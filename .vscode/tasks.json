{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "build extension RELEASE",
			"command": "${workspaceFolder}/external/cpython/PCbuild/amd64/python.exe",
			"args": [
				"auto_graph/setup.py",
				"build_ext"
			]
		},
		{
			"label": "build extension DEBUG",
			"windows": {
				"command": "${workspaceFolder}/external/cpython/PCbuild/amd64/python_d.exe",
				"args": [
					"auto_graph/setup.py",
					"build_ext",
					"--debug"
				]
			},
			"linux": {
				"command": "${workspaceFolder}/external/cpython/python",
				"args": [
					"auto_graph/setup.py",
					"build_ext",
					"--debug"
				]
			}
		},
		{
			"label": "install extension DEBUG",
			"command": "${workspaceFolder}/external/cpython/PCBuild/amd64/python.exe",
			"args": [
				"auto_graph/setup.py",
				"build_ext",
				"--debug",
				"install"
			]
		},
		{
			"label": "build python DEBUG",
			"windows": {
				"command": "${workspaceFolder}/external/cpython/PCbuild/build.bat",
				"args": [
					"-p",
					"x64",
					"-c",
					"Debug"
				],
			},
			"linux": {
				"type": "shell",
				"command": "cd external/cpython && make distclean && CFLAGS=-fPIC && LDFLAGS=-fPIC && ./configure --with-pydebug && make -j$(nproc)"
			},
		},
		{
			"label": "build python RELEASE",
			"command": "${workspaceFolder}/external/cpython/PCbuild/build.bat",
			"args": [
				"-p",
				"x64",
				"-c",
				"Release"
			]
		},
		{
			"label": "Install pip & setuptools",
			"windows": {
				"type": "shell",
				"command": "${workspaceFolder}/external/cpython/PCbuild/amd64/python.exe -m ensurepip --upgrade && ${workspaceFolder}/external/cpython/PCbuild/amd64/python.exe -m pip install setuptools --upgrade",
				"problemMatcher": [],
				"options": {
					"shell": {
						"executable": "cmd.exe",
						"args": ["/d", "/c"]
					}
				},
			},
			"linux": {
				"command": "sh",
				"args": [
					"-c",
					"${workspaceFolder}/external/cpython/python -m ensurepip --upgrade && ${workspaceFolder}/external/cpython/python -m pip install setuptools --upgrade",
				]
			},
			"presentation": {
				"reveal": "always"
			}
		}
	],
	"presentation": {
		"echo": true,
		"reveal": "always",
		"focus": false,
		"panel": "dedicated",
		"clear": false,
		"showReuseMessage": true
	}
}